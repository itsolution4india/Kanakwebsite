{% extends 'base.html' %}

{% block title %}Dashboard - Kanak consultant{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <!-- Success Banner -->
        <div class="card mb-4" style="background: linear-gradient(135deg, #28a745, #20c997); border: none;">
            <div class="card-body text-white text-center py-5">
                <div class="mb-4">
                    <i class="fas fa-check-circle fa-4x mb-3" style="opacity: 0.9;"></i>
                    <h2 class="display-5 fw-bold mb-3">üéâ Congratulations, {{ user.name }}! üéâ</h2>
                </div>
                
                {% if user.service %}
                <div class="alert alert-light mb-4" role="alert" style="background: rgba(255,255,255,0.9); color: #333;">
                    <h4 class="alert-heading"><i class="fas fa-star text-warning me-2"></i>Service Subscription Confirmed!</h4>
                    <p class="mb-3"><strong>You have successfully subscribed to the "{{ user.service }}" category!</strong></p>
                    <hr>
                    <p class="mb-0">By choosing this service, you're now part of our premium community and will receive exclusive updates, offers, and personalized consultation opportunities.</p>
                </div>
                {% endif %}
                
                <div class="row text-center mb-4">
                    <div class="col-md-4 mb-3">
                        <div class="p-3" style="background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <i class="fas fa-headset fa-2x mb-2"></i>
                            <h5>Expert Consultation</h5>
                            <p class="small mb-0">Direct access to Kanak consultants</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="p-3" style="background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <i class="fas fa-bell fa-2x mb-2"></i>
                            <h5>Priority Notifications</h5>
                            <p class="small mb-0">Get notified about exclusive opportunities</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="p-3" style="background: rgba(255,255,255,0.1); border-radius: 15px;">
                            <i class="fas fa-shield-alt fa-2x mb-2"></i>
                            <h5>Verified Account</h5>
                            <p class="small mb-0">Your account is fully verified and secure</p>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-info" style="background: rgba(255,255,255,0.95); color: #333; border: none;text-align: start;">
                    <h5><i class="fas fa-info-circle me-2"></i>What happens next?</h5>
                    <p class="mb-2">üîî <strong>Personalized Communications:</strong> You'll receive tailored messages and voice calls from our Kanak consultants based on your selected service category.</p>
                    <p class="mb-2">üìû <strong>Expert Guidance:</strong> Our specialists will reach out to provide you with valuable insights and opportunities in {{ user.service|default:"your chosen field" }}.</p>
                    <p class="mb-0">üí° <strong>Exclusive Access:</strong> Be the first to know about new services, special offers, and consultation sessions.</p>
                </div>
                
                <h4 class="mt-4 mb-3">Thank you for your love and support! ‚ù§Ô∏è</h4>
                <p class="lead">We're committed to providing you with the best service experience and helping you achieve your goals.</p>
            </div>
        </div>

        <!-- Profile Details -->
        <div class="card">
            <div class="card-header bg-info text-white">
                <h3><i class="fas fa-user-circle me-2"></i>Your Profile Details</h3>
            </div>
            <div class="card-body p-4">
                <div class="row">
                    <div class="col-md-6">
                        <h5><i class="fas fa-user me-2 text-primary"></i>Personal Information</h5>
                        <div class="table-responsive">
                            <table class="table table-borderless">
                                <tr>
                                    <td><strong><i class="fas fa-user me-1 text-secondary"></i>Name:</strong></td>
                                    <td>{{ user.name }}</td>
                                </tr>
                                <tr>
                                    <td><strong><i class="fas fa-phone me-1 text-secondary"></i>Mobile:</strong></td>
                                    <td>{{ user.number }}</td>
                                </tr>
                                {% if user.email %}
                                <tr>
                                    <td><strong><i class="fas fa-envelope me-1 text-secondary"></i>Email:</strong></td>
                                    <td>{{ user.email }}</td>
                                </tr>
                                {% endif %}
                                <tr>
                                    <td><strong><i class="fas fa-map-marker-alt me-1 text-secondary"></i>Location:</strong></td>
                                    <td>{{ user.location }}</td>
                                </tr>
                                {% if user.service %}
                                <tr>
                                    <td><strong><i class="fas fa-briefcase me-1 text-secondary"></i>Service:</strong></td>
                                    <td><span class="badge bg-success">{{ user.service }}</span></td>
                                </tr>
                                {% endif %}
                                <tr>
                                    <td><strong><i class="fas fa-calendar me-1 text-secondary"></i>Joined:</strong></td>
                                    <td>{{ user.created_at|date:"M d, Y" }}</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h5><i class="fas fa-bell me-2 text-warning"></i>Communication Preferences</h5>
                        <div class="list-group">
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <span><i class="fas fa-sms me-2 text-primary"></i>SMS Notifications</span>
                                {% if user.subscribe_sms %}
                                    <span class="badge bg-success rounded-pill">
                                        <i class="fas fa-check me-1"></i>Enabled
                                    </span>
                                {% else %}
                                    <span class="badge bg-secondary rounded-pill">
                                        <i class="fas fa-times me-1"></i>Disabled
                                    </span>
                                {% endif %}
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <span><i class="fas fa-envelope me-2 text-warning"></i>Email Notifications</span>
                                {% if user.subscribe_email %}
                                    <span class="badge bg-success rounded-pill">
                                        <i class="fas fa-check me-1"></i>Enabled
                                    </span>
                                {% else %}
                                    <span class="badge bg-secondary rounded-pill">
                                        <i class="fas fa-times me-1"></i>Disabled
                                    </span>
                                {% endif %}
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center">
                                <span><i class="fas fa-phone me-2 text-danger"></i>Voice Call Notifications</span>
                                {% if user.subscribe_voice %}
                                    <span class="badge bg-success rounded-pill">
                                        <i class="fas fa-check me-1"></i>Enabled
                                    </span>
                                {% else %}
                                    <span class="badge bg-secondary rounded-pill">
                                        <i class="fas fa-times me-1"></i>Disabled
                                    </span>
                                {% endif %}
                            </div>
                        </div>
                        
                        {% if user.subscribe_sms or user.subscribe_email or user.subscribe_voice %}
                        <div class="alert alert-success mt-3" role="alert">
                            <i class="fas fa-thumbs-up me-2"></i>
                            <strong>Great Choice!</strong> You've enabled communication channels to stay connected with our consultants.
                        </div>
                        {% else %}
                        <div class="alert alert-warning mt-3" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            <strong>Note:</strong> Consider enabling notifications to receive important updates from our consultants.
                        </div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-12 text-center">
                        <div class="d-flex justify-content-center gap-3">
                            <button class="btn btn-outline-primary" onclick="window.print()">
                                <i class="fas fa-print me-2"></i>Print Profile
                            </button>
                            <a href="{% url 'logout' %}" class="btn btn-outline-danger">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
@media print {
    .btn, .navbar, .alert-info { display: none !important; }
}
</style>
{% endblock %}